(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function r(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(t){if(t.ep)return;t.ep=!0;const s=r(t);fetch(t.href,s)}})();const d=document.querySelector("form"),u=document.querySelector("#userInput"),a=document.querySelector("ul"),m=document.getElementById("reload"),c="Tasks";function f(n,e){try{if(!e)throw new Error("arrEle argument is missing");const r=JSON.parse(localStorage.getItem(n))??[],o=[e,...r];localStorage.setItem(n,JSON.stringify(o))}catch(r){console.log(r)}}function p(n,e){try{const r=JSON.parse(localStorage.getItem(n))??[];if(!r)throw new Error("no storedList found");const o=r.filter(t=>t.id!=e);if(!o)throw new Error("problems getting newList");o.length>0?localStorage.setItem(c,JSON.stringify(o)):localStorage.removeItem(n)}catch(r){console.log(r)}}function l(){let n=JSON.parse(localStorage.getItem(c))??[];a.innerHTML="",n.map(e=>g(e))}function g(n){const e=document.createElement("li"),r=document.createElement("div"),o=document.createElement("button");e.setAttribute("id",n.id),r.textContent=n.content,o.textContent="Delete",e.className="bg-green-200 rounded flex justify-between items-center px-5 py-2 mb-1 select-none",r.className="font-bold text-sm",o.className="bg-red-500 px-2 py-1 rounded-2xl text-xs text-white cursor-pointer",e.append(r,o),a.append(e),o.addEventListener("click",function(){p(c,n.id),l()})}d.addEventListener("submit",function(n){try{const e=u.value.trim();if(!e)throw new Error("input is empty");const o={id:`task-${self.crypto.randomUUID().replaceAll("-","")}`,content:e};f(c,o),l()}catch(e){console.log(e)}});m.addEventListener("click",()=>window.location.reload());window.addEventListener("load",l);
